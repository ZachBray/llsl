/** This is generated code */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });

{{#each imports ~}}
var {{{pascal_case}}} = require("./{{{camel_case}}}");
{{/each}}

var {{{codec.name.pascal_case}}} = (function () {
{{#each codec.fields }}
  var {{{name.camel_case}}}Schema = {
    name: "{{{name.original}}}",
    offsetInBytes: {{{location.offset_bytes}}},
    bitMask: {{{location.bit_mask.binary}}}, // {{{location.bit_mask.original}}}
    shift: {{{location.shift}}},
  };
{{/each}}

  function {{{codec.name.pascal_case}}}() {
    this.buffer = undefined;
    this.codecOffsetInBytes = -1;
  };

  {{{codec.name.pascal_case}}}.prototype.wrap = function(newBuffer, newOffsetInBytes) {
    this.buffer = newBuffer;
    this.codecOffsetInBytes = newOffsetInBytes;
  };

{{#each codec.fields}}
  Object.defineProperty({{{../codec.name.pascal_case}}}.prototype, "{{{name.camel_case}}}", {
    enumerable: true,
    get: function() {
      return this.buffer.read{{{type_info.kind.pascal_case}}}({{{name.camel_case}}}Schema, this.codecOffsetInBytes);
    },
    set: function(value) {
      this.buffer.write{{{type_info.kind.pascal_case}}}({{{name.camel_case}}}Schema, this.codecOffsetInBytes, value);
    }
  });
{{/each}}
})();

exports.{{{codec.name.pascal_case}}} = {{{codec.name.pascal_case}}};
