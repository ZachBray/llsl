/** This is generated code */
{{#each imports ~}}
import {{{pascal_case}}} from "./{{{camel_case}}}.js";
{{/each}}

const {{{codec.name.pascal_case}}} = () => {
{{#each codec.fields }}
  let {{{name.camel_case}}}Schema = {
    name: "{{{name.original}}}",
    offsetInBytes: {{{location.offset_bytes}}},
    bitMask: {{{location.bit_mask.binary}}}, // {{{location.bit_mask.original}}}
    shift: {{{location.shift}}},
  };{{/each}}

  let buffer;
  let offset = 0;

  return {
    wrap: (buf, newOffset) => {
      buffer = buf;
      offset = newOffset;
    },
{{#each codec.fields}}
    write{{{name.pascal_case}}}: (value) => {
      buffer.write({{{name.camel_case}}}Schema, offset, value);
    },
    read{{{name.pascal_case}}}: () => {
      return buffer.read({{{name.camel_case}}}Schema, offset);
    },{{/each}}
  };
};

export default {{{codec.name.pascal_case}}}();
